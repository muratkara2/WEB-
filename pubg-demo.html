<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title> Refleks Oyunu</title>

<style>
* {
    box-sizing: border-box;
}
body{
    margin:0;
    font-family:Arial;
    background:#111;
    color:white;
    overflow:hidden;
}

#game{
    touch-action: manipulation;
}


#menu{
    position:fixed;
    inset:0;
    background:#000d;
    display:flex;
    justify-content:center;
    align-items:center;
    z-index:10;
}
.menu-box{
    background:#222;
    padding:30px;
    border-radius:10px;
    text-align:center;
    width:300px;
}
.menu-box input{
    width:100%;
    padding:10px;
    margin:10px 0;
}
.menu-box button{
    padding:12px;
    width:100%;
    font-size:16px;
    cursor:pointer;
}


#hud{
    position:fixed;
    top:0;
    left:0;
    width:100%;
    height:60px;                 /* ðŸ”¥ YÃœKSEKLÄ°K ZORUNLU */
    background:#222;
    padding:0 20px;
    display:flex;
    justify-content:space-between;
    align-items:center;          /* ðŸ”¥ DÄ°KEY ORTALA */
    font-size:18px;              /* ðŸ”¥ OKUNUR HALE GETÄ°R */
    z-index:1000;
}


#game{
    position:absolute;
    top:60px;                    /* HUD kadar aÅŸaÄŸÄ± */
    left:0;
    width:100%;
    height:calc(100vh - 60px);
}

.box{
    width:50px;
    height:50px;
    background:#00ff99;
    position:absolute;
    border-radius:6px;
    cursor:pointer;
}
</style>
</head>

<body>


<div id="menu">
    <div class="menu-box">
        <h2>ðŸŽ¯ Refleks Oyunu</h2>

        <label>Kutucuk SayÄ±sÄ±</label>
        <input type="number" id="boxCount" value="20">

        <label>Kutucuk SÃ¼resi (ms)</label>
        <input type="number" id="boxTime" value="800">

        <button onclick="startGame()">Oyuna BaÅŸla</button>
    </div>
</div>


<div id="hud">
    <div>Skor: <span id="score">0</span></div>
    <div>Kalan: <span id="left">0</span></div>
</div>


<div id="game"></div>

<script>
const game = document.getElementById("game");
let score = 0;
let totalBoxes = 0;
let boxDuration = 800;
let left = 0;

function startGame(){
    score = 0;
    document.getElementById("score").innerText = score;

    totalBoxes = Number(document.getElementById("boxCount").value);
    boxDuration = Number(document.getElementById("boxTime").value);
    left = totalBoxes;

    document.getElementById("left").innerText = left;
    document.getElementById("menu").style.display = "none";

    spawnBox();
}

function spawnBox(){
    if(left <= 0){
        setTimeout(()=>{
            alert("ðŸŽ‰ Oyun Bitti! Skor: " + score);
            location.reload();
        },300);
        return;
    }

    const box = document.createElement("div");
    box.className = "box";

    box.style.left = Math.random() * (window.innerWidth - 60) + "px";
    box.style.top  = Math.random() * (window.innerHeight - 60) + "px";

    let clicked = false;

    box.onclick = () => {
        if(clicked) return;
        clicked = true;

        score++;
        left--;

        document.getElementById("score").innerText = score;
        document.getElementById("left").innerText = left;

        box.remove();
        spawnBox();
    };

    game.appendChild(box);

    setTimeout(()=>{
        if(box.parentNode && !clicked){
            left--;
            document.getElementById("left").innerText = left;
            box.remove();
            spawnBox();
        }
    }, boxDuration);
}
</script>


</body>
</html>
